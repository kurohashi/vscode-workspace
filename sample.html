<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
        integrity="sha256-46qynGAkLSFpVbEBog43gvNhfrOj+BmwXdxFgVK/Kvc=" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        #_ft_nps_small_ {
            width: 30rem;
            bottom: 85px;
            right: 50px;
            position: fixed;
            z-index: 999999999999999;
        }

        @media only screen and (max-width: 530px) {
            #_ft_nps_small_ {
                width: 90%;
                left: 2px;
            }
        }

        ._ft_nps_container_ {
            color: #263238;
            background-color: #fff;
            padding: 17px 0px 17px 20px;
            border-radius: 6px;
            line-height: 15px;
            font-family: Helvetica, Arial, sans-serif;
            box-shadow: 0px 0px 10px 1px rgba(50, 50, 50, 0.4);
            margin-top: 1rem;
        }

        ._ft_nps_score_number_ {
            background-color: #f4f7f9;
            text-align: center;
            height: 2rem;
            width: 2rem;
            font-size: 1rem;
            padding: 8px;
            margin-left: 8px;
            cursor: pointer;
            border: #00000029 solid 1px;
            border-radius: 5px;
            font-size: 0.75rem
        }

        ._ft_nps_text_ {
            font-size: 1rem;
            padding-right: 15px;
        }

        ._ft_nps_button_ {
            color: royalblue;
            font-size: 1rem;
            text-align: end;
            cursor: pointer;
        }

        ._ft_nps_close_ {
            font-size: 2rem;
            cursor: pointer;
            float: right;
        }

        ._ft_nps_close_:hover {
            color: red;
            text-shadow: gray 0px 0px 3px;
        }

        #_ft_nps_msg_ {
            margin-left: 0px;
        }

        #_ft_nps_comments_ {
            padding-bottom: 1px;
        }

        ._ft_nps_comment_msg_ {
            display: flex;
        }

        ._ft_nps_comment_msg_ .input-msg {
            border: 1px solid #fff;
            flex: 1 1 auto;
            font-size: 16px;
            outline: none;
            min-width: 50px;
            padding: 16px;
        }

        ._ft_nps_comment_msg_ .modal-msg {
            border-radius: 25px;
        }

        #_ft_nps_send_ {
            background: transparent;
            border: 0;
            cursor: pointer;
            outline: none;
            margin-top: 2rem;
        }

        #_ft_nps_send_ .circle {
            background: #f2f2f2;
            border-radius: 50%;
            color: #f2f2f2;
            position: relative;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #_ft_nps_modal_ .modal-content {
            background-color: fbf7f7;
        }
    </style>
    <script>
        function setNPSHover (i) {
            $('#_ft_nps_score_' + i + '_').css({
                'background-color': 'white',
                'color': 'black'
            });
            $('#_ft_nps_score_' + i + '_').hover(function () {
                if (i <= 6) {                
                    $(this).css('color', 'red');                    
                } else if (i > 6 && i <= 8) {
                        $(this).css('color', 'blue');
                } else {
                    $(this).css('color', 'green');
                }
            }, function () {
                $(this).css('color', 'black');                    
            });
        }
        $(document).ready(function () {
            $('#_ft_nps_modal_').modal();
            var clicked = -1;      
            for (var i = 0; i < 11; i++) {
                $("#_ft_nps_score_").append("<div id='_ft_nps_score_" + i +
                    "_' class='_ft_nps_score_number_'>" + i + "</div>");
                setNPSHover(i);                
                if (i <= 6) {  
                    $('#_ft_nps_score_' + i + '_').click(function () {
                        $(this).unbind('mouseenter mouseleave');                         
                        $(this).css({
                            'background-color': 'red',
                            'color': 'white'
                        });
                        if (clicked == -1) {                        
                            $('#_ft_nps_msg_').show(200);
                            $('#_ft_nps_comments_').show(200);
                        } else {
                            setNPSHover(clicked);                    
                        }
                        clicked = ($(this)[0].id).charAt(14);
                        console.log('clicked = ', clicked);
                    });
                } else if (i > 6 && i <= 8) {
                    $('#_ft_nps_score_' + i + '_').click(function () {
                        $(this).unbind('mouseenter mouseleave');
                        $(this).css({
                            'background-color': 'blue',
                            'color': 'white'
                        });
                        if (clicked == -1) {                        
                            $('#_ft_nps_msg_').show(200);
                            $('#_ft_nps_comments_').show(200);
                        } else {
                            setNPSHover(clicked);                    
                        }
                        clicked = ($(this)[0].id).charAt(14);
                        console.log('clicked = ', clicked);
                    });
                } else {
                    $('#_ft_nps_score_' + i + '_').click(function () {
                        $(this).unbind('mouseenter mouseleave');
                        $(this).css({
                            'background-color': 'green',
                            'color': 'white'
                        });
                        if (clicked == -1) {                        
                            $('#_ft_nps_msg_').show(200);
                            $('#_ft_nps_comments_').show(200);
                        } else {
                            setNPSHover(clicked);                    
                        }
                        clicked = ($(this)[0].id).charAt(14);
                        if (clicked == 1) clicked = 10;
                        console.log('clicked = ', clicked);
                    });     
                }
            }
            $('._ft_nps_close_').click(function () {
                $('#_ft_nps_small_').remove();
            });
            $('._ft_nps_later_').click(function () {
                $('#_ft_nps_small_').remove();
            });
            $('#_ft_nps_send_').click(function () {
                $('#_ft_nps_small_').remove();
            });
            $('#_ft_nps_comment_data_').keypress(function (event) {
                var keycode = (event.keyCode ? event.keyCode : event.which);
                if(keycode == '13') {
                    $('#_ft_nps_small_').remove();                      
                }
            });
        });
    </script>
</head>

<body>
    <div id="_ft_nps_small_">
        <i class="fas fa-times-circle _ft_nps_close_"></i>
        <br>
        <div class="_ft_nps_container_">
            <p class="_ft_nps_text_">Considering your complete experience with our company, how likely would you be to recommend us to a friend or colleague?</p>
            <br>
            <div id="_ft_nps_score_" class="row mx-auto">
            </div>
            <br>
            <div class="col-12">
                <div class="_ft_nps_button_">Later</div>
            </div>
        </div>
        <div id="_ft_nps_comments_" class="_ft_nps_container_" style="display: none;">
            <p class="_ft_nps_text_">Comments</p>
        </div>
        <div id="_ft_nps_msg_" class="row" style="display: none;">
            <div class="_ft_nps_container_ col-10 pl-0">
                <div class="_ft_nps_comment_msg_">
                    <textarea type="text" rows="1"
                        class="input-msg" id="_ft_nps_comment_data_" name="input" placeholder="Comments" autocomplete="off"
                        autofocus="">
                    </textarea>                    
                </div>
            </div>
            <div class="col-2">
                <button id="_ft_nps_send_">
                    <div class="circle"><img src="https://cdn.fibotalk.com/img/send_o.png"></div>
                </button>
            </div>
        </div>
    </div>

    <div id="_ft_nps_modal_" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <i class="fa fa-times _ft_nps_close_" data-dismiss="modal" aria-hidden="true"></i>
                    <br><br>
                    <p class="_ft_nps_text_">Considering your complete experience with our company, how likely would you be to recommend us to a friend or colleague?</p>
                    <div id="_ft_nps_score_" class="row ml-1">
                    </div>
                    <p class="_ft_nps_text_ mt-5">Comments</p>
                    <div class="_ft_nps_comment_msg_ mt-2">
                        <textarea type="text" rows="1"
                            class="input-msg modal-msg" id="m1" name="input" placeholder="Send Message" autocomplete="off"
                            autofocus="">
                        </textarea>                    
                    </div>
                    <br>
                    <span class="_ft_nps_button_">Submit</span>
                    <span class="_ft_nps_button_ float-right" data-dismiss="modal">Later</span>   
                </div>
            </div>
        </div>
    </div>
</body>

</html>